{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ninaloeterman/ITC/ITC Hackathon 2020/SpendWell/App.js\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { useEffect, useState } from \"react\";\nimport * as React from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport Constants from \"expo-constants\";\nimport * as Permissions from \"expo-permissions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Modal from \"react-native-modal\";\nimport ProductsList from \"./components/ProductsList\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport Navbar from \"./components/Navbar/navbar.jsx\";\nimport { Ionicons } from \"@expo/vector-icons\";\nexport default function App() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isModalVisible = _useState4[0],\n      setIsModalVisible = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      spinner = _useState6[0],\n      setSpinner = _useState6[1];\n\n  useEffect(function () {\n    getPermissionAsync();\n  }, []);\n\n  var getPermissionAsync = function getPermissionAsync() {\n    var _await$Permissions$as, status;\n\n    return _regeneratorRuntime.async(function getPermissionAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!Constants.platform.ios) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n          case 3:\n            _await$Permissions$as = _context.sent;\n            status = _await$Permissions$as.status;\n\n            if (status !== \"granted\") {\n              alert(\"Sorry, we need camera roll permissions to make this work!\");\n            }\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _pickImage = function _pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function _pickImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 3:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n              toggleModal();\n            }\n\n            console.log(result);\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var toggleModal = function toggleModal() {\n    setIsModalVisible(!isModalVisible);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), React.createElement(StatusBar, {\n    style: \"auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), React.createElement(Modal, {\n    isVisible: isModalVisible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(Spinner, {\n    visible: spinner,\n    textContent: \"Loading healthier products:)\",\n    textStyle: styles.spinnerTextStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), React.createElement(ProductsList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), React.createElement(Button, {\n    color: \"white\",\n    title: \"X\",\n    onPress: toggleModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }))), React.createElement(View, {\n    style: styles.scanningContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, image && React.createElement(Image, {\n    source: {\n      uri: image\n    },\n    style: {\n      width: 200,\n      height: 200,\n      borderRadius: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), !image && React.createElement(Ionicons, {\n    name: \"ios-qr-scanner\",\n    color: \"#89db9b\",\n    size: 200,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: styles.barcodeOuterContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.barcodeContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, React.createElement(Ionicons, {\n    onPress: _pickImage,\n    style: styles.barcodeButton,\n    name: \"ios-barcode\",\n    size: 50,\n    color: \"#14aa6b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  modalContent: {\n    backgroundColor: \"white\",\n    height: \"90%\"\n  },\n  barcodeContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"#89db9b\",\n    borderColor: \"white\",\n    borderWidth: 1,\n    borderRadius: 20,\n    width: 80,\n    height: 80\n  },\n  modalContent: {\n    backgroundColor: 'blue',\n    height: '90%'\n  },\n  scanningContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    flex: 1,\n    marginBottom: 20,\n    marginTop: 50\n  }\n});","map":{"version":3,"sources":["/Users/ninaloeterman/ITC/ITC Hackathon 2020/SpendWell/App.js"],"names":["StatusBar","useEffect","useState","React","ImagePicker","Constants","Permissions","Modal","ProductsList","Spinner","Navbar","Ionicons","App","image","setImage","isModalVisible","setIsModalVisible","spinner","setSpinner","getPermissionAsync","platform","ios","askAsync","CAMERA_ROLL","status","alert","_pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","uri","toggleModal","console","log","styles","container","flex","spinnerTextStyle","scanningContainer","width","height","borderRadius","barcodeOuterContainer","barcodeContainer","barcodeButton","StyleSheet","create","backgroundColor","modalContent","display","alignItems","justifyContent","borderColor","borderWidth","flexDirection","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport { useEffect, useState } from \"react\";\nimport * as React from \"react\";\nimport { Button, Image, View } from \"react-native\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport Constants from \"expo-constants\";\nimport * as Permissions from \"expo-permissions\";\nimport { StyleSheet, Text } from \"react-native\";\nimport Modal from \"react-native-modal\";\nimport ProductsList from \"./components/ProductsList\";\n// import postBarcode from './lib/api'\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport Navbar from \"./components/Navbar/navbar.jsx\";\nimport { Ionicons } from \"@expo/vector-icons\";\n\nexport default function App() {\n  const [image, setImage] = useState(null);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [spinner, setSpinner] = useState(false);\n\n  useEffect(() => {\n    getPermissionAsync();\n  }, []);\n\n  const getPermissionAsync = async () => {\n    if (Constants.platform.ios) {\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n      if (status !== \"granted\") {\n        alert(\"Sorry, we need camera roll permissions to make this work!\");\n      }\n    }\n  };\n\n  const _pickImage = async () => {\n    try {\n      let result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1,\n      });\n      if (!result.cancelled) {\n        setImage(result.uri);\n        toggleModal();\n      }\n\n      console.log(result);\n    } catch (E) {\n      console.log(E);\n    }\n  };\n\n  const toggleModal = () => {\n    setIsModalVisible(!isModalVisible);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Navbar />\n      <StatusBar style=\"auto\" />\n      <Modal isVisible={isModalVisible}>\n        <View style={{ flex: 1 }}>\n          <Spinner\n            visible={spinner}\n            textContent={\"Loading healthier products:)\"}\n            textStyle={styles.spinnerTextStyle}\n          />\n          <ProductsList/>\n          <Button color=\"white\" title=\"X\" onPress={toggleModal} />\n        </View>\n      </Modal>\n      <View style={styles.scanningContainer}>\n        {image && (\n          <Image source={{ uri: image }} style={{ width: 200, height: 200, borderRadius: 10 }} />\n        )}\n        {!image && (<Ionicons name=\"ios-qr-scanner\" color=\"#89db9b\" size={200} />)}\n        <View style={styles.barcodeOuterContainer}>\n        <View style={styles.barcodeContainer}>\n          <Ionicons\n            onPress={_pickImage}\n            style={styles.barcodeButton}\n            name=\"ios-barcode\"\n            size={50}\n            color=\"#14aa6b\"\n          />\n        </View>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n  },\n  modalContent: {\n    backgroundColor: \"white\",\n    height: \"90%\",\n  },\n  barcodeContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"#89db9b\",\n    borderColor: \"white\",\n    borderWidth: 1,\n    borderRadius: 20,\n    width: 80,\n    height: 80,\n  },\n  modalContent: {\n    backgroundColor: 'blue',\n    height: '90%'\n  },\n  scanningContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    flex: 1,\n    // justifyContent: 'flex-end',\n    marginBottom: 20,\n    marginTop: 50,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}